var _=Object.defineProperty;var q=Object.getOwnPropertyDescriptor;var i=(t,r,d,s)=>{for(var a=s>1?void 0:s?q(r,d):r,p=t.length-1,c;p>=0;p--)(c=t[p])&&(a=(s?c(r,d,a):c(a))||a);return s&&a&&_(r,d,a),a};import{Controller as l,Dero as f,Get as m,Inject as g,Post as A,Status as v}from"https://deno.land/x/dero@1.2.1/mod.ts";import{UnauthorizedError as x}from"https://deno.land/x/dero@1.2.1/error.ts";import{ApiBearerAuth as y,ApiDocument as S,ApiOperation as n,ApiParameter as w,ApiRequestBody as B,ApiResponse as o,DocumentBuilder as z,swagger as b}from"https://deno.land/x/dero_swagger@0.0.6/mod.ts";var j=(t,r,d)=>{let s=t.headers.get("authorization");if(s&&s==="Bearer 1234")return d();throw new x("Unauthorized. please add token 1234")};var O={type:"object",properties:{id:{type:"integer"},name:{type:"string"}}},P={type:"object",properties:{id:{type:"string"},name:{type:"string"}}},D={description:"Save Cat",required:!0,content:{"application/json":{schema:O},"application/x-www-form-urlencoded":{schema:P}}};var u=class{findAll(){return"Success findall cat"}findById(){return"Success findid cat"}save(){return"Success save cat"}},I=u;var e=class{findAll(){return this.catService.findAll()}findById(){return this.catService.findById()}save(){return this.catService.save()}};i([g(I)],e.prototype,"catService",2),i([o(200,{description:"OK"}),o(401,{description:"Unauthorized"}),n({summary:"findAll cat"}),m()],e.prototype,"findAll",1),i([w({name:"id",in:"path",required:!0}),o(200,{description:"OK"}),o(401,{description:"Unauthorized"}),n({summary:"find by id cat"}),m("/:id")],e.prototype,"findById",1),i([B(D),o(201,{description:"Created"}),o(401,{description:"Unauthorized"}),n({summary:"save cat"}),v(201),A()],e.prototype,"save",1),e=i([y(),S({name:"Cat",description:"Sample doc cat"}),l("/cat")],e);var U=e;var h=class extends f{constructor(){super();this.use({wares:[j],class:[U]});let r=new z().setInfo({title:"This amazing cat examples",version:"1.0.0",description:"This is a sample server Cat server. You can find out more about [https://github.com/herudi/dero_swagger/tree/master/examples](https://github.com/herudi/dero_swagger/tree/master/examples). for auth, please add authorize **1234**"}).addBearerAuth().addSchemes("https").addServer("https://dero-swagger.deno.dev").build();b(this,"/api-docs",r)}};new h().deploy();
